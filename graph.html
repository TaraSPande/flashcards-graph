<!DOCTYPE html>
<html>
<head>
  <title>Flashcard Knowledge Graph</title>
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <link rel="stylesheet" href="graph.css">
  <script>
    window.MathJax = {
      tex: { inlineMath: [['$', '$'], ['\\(', '\\)']] },
      svg: { fontCache: 'global' }
    };
  </script>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" async></script>
</head>
<body>

  <svg id="graph" width="800" height="800"></svg>

  <div id="info-panel">
    <h2>Flashcard Knowledge Graph</h2>

    <label for="subtopic-filter">Filter by Subtopic:</label><br>
    <select id="subtopic-filter">
      <option value="all">All</option>
    </select>

    <div id="legend" style="margin-top: 10px;"></div>

    <label for="node-search" style="margin-top: 20px; display: block;">Search node:</label><br>
    <input type="text" id="node-search" placeholder="Search by question or ID" style="width: 50%; padding: 6px;" oninput="updateSuggestions()" autocomplete="off" />
    <div id="suggestions" style="position: relative;"></div>
    <button onclick="searchNode()">üîç Search</button>

    <div id="qa-display" style="margin-top: 20px;">
      <p>Click on a node to see its question and answer.</p>
    </div>

    <button onclick="resetView()">Reset View</button>
    <button onclick="location.href='flashcard.html'">Go to Flashcard Shuffle</button>
  </div>

  <script src="graph.js"></script>
</body>
</html>
